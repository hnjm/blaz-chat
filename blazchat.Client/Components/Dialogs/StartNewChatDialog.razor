@inherits StartNewChatDialogBase
@rendermode @(new InteractiveWebAssemblyRenderMode(prerender:false))

<MudDialog Style="max-height: 500px !important;">
    <DialogContent>
        <MudGrid Spacing="1">
            <MudItem xs="12">
                <MudTextField T="string" Margin="Margin.Dense" Placeholder="Search contact" Variant="Variant.Outlined" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" />
            </MudItem>

            <MudItem xs="12">
                <MudGrid Spacing="1">
                    @if (Contacts is { Count: > 0 })
                    {
                        @foreach (var contact in Contacts)
                        {
                            <MudItem xs="12">
                                <button @onclick="e=> StartChat(contact)">
                                    <MudPaper Elevation="6" Class="pa-3 rounded-lg">
                                        <MudGrid>
                                            <MudItem Class="d-flex align-center" xs="2">
                                                <MudAvatar Color="Color.Primary">@contact.Name[0]</MudAvatar>
                                            </MudItem>
                                            <MudItem Class="d-flex align-center" xs="10">
                                                <MudText Typo="Typo.body2">@contact.Name</MudText>
                                            </MudItem>
                                        </MudGrid>
                                    </MudPaper>
                                </button>
                            </MudItem>
                        }
                    }
                </MudGrid>
            </MudItem>
        </MudGrid>
    </DialogContent>
</MudDialog>